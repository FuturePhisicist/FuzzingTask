(?x:
        (\[)((?<square>[^\[\]\\]|\\.|\[\g<square>*+\])*+)(\])
                      # Match the link text.
        ([ ])?            # Space not allowed
        (\()            # Opening paren for url
          (<?)(.*?)(>?)      # The url
          [ \t]*          # Optional whitespace
          (?:
              ((\().+?(\)))    # Match title in parensâ€¦
            | ((").+?("))    # or in quotes.
          )?            # Title is optional
          \s*            # Optional whitespace
        (\))
       )
